{"ast":null,"code":"import { create } from \"zustand\";\nconst useCartStore = create(set => ({\n  total: 0,\n  cartItems: [],\n  clearCarts: () => {\n    set(() => {\n      return {\n        cartItems: []\n      };\n    });\n  },\n  incQuantity: productId => {\n    set(state => {\n      return {\n        cartItems: state.cartItems.map(item => item.id === productId ? {\n          ...item,\n          quantity: item.quantity + 1\n        } : item)\n      };\n    });\n  },\n  decQuantity: productId => {\n    set(state => {\n      return {\n        cartItems: state.cartItems.map(item => item.id === productId ? {\n          ...item,\n          quantity: item.quantity <= 1 ? 1 : item.quantity - 1\n        } : item)\n      };\n    });\n  },\n  setCarts: newProduct => {\n    set(state => {\n      const existingItem = state.cartItems.find(item => item.id === newProduct.id);\n      if (existingItem) {\n        return {\n          cartItems: state.cartItems.map(item => item.id === newProduct.id ? {\n            ...item,\n            quantity: item.quantity + 1\n          } : item)\n        };\n      } else {\n        return {\n          cartItems: [...state.cartItems, {\n            ...newProduct,\n            quantity: 1\n          }]\n        };\n      }\n    });\n  },\n  deleteOneFromCarts: productId => {\n    set(state => {\n      return {\n        cartItems: state.cartItems.filter(item => item.id !== productId)\n      };\n    });\n  },\n  calculateTotal: () => {\n    set(state => {\n      const total = state.cartItems.reduce((acc, item) => acc + item.price * item.quantity, 0);\n      return {\n        total: parseFloat(total.toFixed(2))\n      };\n    });\n  }\n}));\nexport default useCartStore;","map":{"version":3,"names":["create","useCartStore","set","total","cartItems","clearCarts","incQuantity","productId","state","map","item","id","quantity","decQuantity","setCarts","newProduct","existingItem","find","deleteOneFromCarts","filter","calculateTotal","reduce","acc","price","parseFloat","toFixed"],"sources":["/Users/sumin/Documents/수민 코딩/구름 헬퍼/new/goorm-shopping-mall/src/apps/cartStore.ts"],"sourcesContent":["import { create } from \"zustand\"\n\nimport Product from \"models/product\"\nimport CartProduct from \"models/cartProduct\"\n\ntype CartStore = {\n    total: number\n    cartItems: CartProduct[]\n    incQuantity: (productId: number) => void\n    decQuantity: (productId: number) => void\n    clearCarts: () => void\n    deleteOneFromCarts: (productId: number) => void\n    setCarts: (newProduct: Product) => void\n    calculateTotal: () => void\n}\n\nconst useCartStore = create<CartStore>(\n    (set): CartStore => ({\n        total: 0,\n        cartItems: [],\n        clearCarts: () => {\n            set(() => {\n                return {\n                    cartItems: [],\n                }\n            })\n        },\n        incQuantity: (productId) => {\n            set((state) => {\n                return {\n                    cartItems: state.cartItems.map((item) =>\n                        item.id === productId\n                            ? { ...item, quantity: item.quantity + 1 }\n                            : item\n                    ),\n                }\n            })\n        },\n        decQuantity: (productId) => {\n            set((state) => {\n                return {\n                    cartItems: state.cartItems.map((item) =>\n                        item.id === productId\n                            ? {\n                                  ...item,\n                                  quantity:\n                                      item.quantity <= 1\n                                          ? 1\n                                          : item.quantity - 1,\n                              }\n                            : item\n                    ),\n                }\n            })\n        },\n        setCarts: (newProduct: Product) => {\n            set((state) => {\n                const existingItem = state.cartItems.find(\n                    (item) => item.id === newProduct.id\n                )\n\n                if (existingItem) {\n                    return {\n                        cartItems: state.cartItems.map((item) =>\n                            item.id === newProduct.id\n                                ? { ...item, quantity: item.quantity + 1 }\n                                : item\n                        ),\n                    }\n                } else {\n                    return {\n                        cartItems: [\n                            ...state.cartItems,\n                            { ...newProduct, quantity: 1 },\n                        ],\n                    }\n                }\n            })\n        },\n        deleteOneFromCarts: (productId) => {\n            set((state) => {\n                return {\n                    cartItems: state.cartItems.filter(\n                        (item) => item.id !== productId\n                    ),\n                }\n            })\n        },\n        calculateTotal: () => {\n            set((state) => {\n                const total = state.cartItems.reduce(\n                    (acc, item) => acc + item.price * item.quantity,\n                    0\n                )\n                return { total: parseFloat(total.toFixed(2)) }\n            })\n        },\n    })\n)\n\nexport default useCartStore\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,SAAS;AAgBhC,MAAMC,YAAY,GAAGD,MAAM,CACtBE,GAAG,KAAiB;EACjBC,KAAK,EAAE,CAAC;EACRC,SAAS,EAAE,EAAE;EACbC,UAAU,EAAEA,CAAA,KAAM;IACdH,GAAG,CAAC,MAAM;MACN,OAAO;QACHE,SAAS,EAAE;MACf,CAAC;IACL,CAAC,CAAC;EACN,CAAC;EACDE,WAAW,EAAGC,SAAS,IAAK;IACxBL,GAAG,CAAEM,KAAK,IAAK;MACX,OAAO;QACHJ,SAAS,EAAEI,KAAK,CAACJ,SAAS,CAACK,GAAG,CAAEC,IAAI,IAChCA,IAAI,CAACC,EAAE,KAAKJ,SAAS,GACf;UAAE,GAAGG,IAAI;UAAEE,QAAQ,EAAEF,IAAI,CAACE,QAAQ,GAAG;QAAE,CAAC,GACxCF,IACV;MACJ,CAAC;IACL,CAAC,CAAC;EACN,CAAC;EACDG,WAAW,EAAGN,SAAS,IAAK;IACxBL,GAAG,CAAEM,KAAK,IAAK;MACX,OAAO;QACHJ,SAAS,EAAEI,KAAK,CAACJ,SAAS,CAACK,GAAG,CAAEC,IAAI,IAChCA,IAAI,CAACC,EAAE,KAAKJ,SAAS,GACf;UACI,GAAGG,IAAI;UACPE,QAAQ,EACJF,IAAI,CAACE,QAAQ,IAAI,CAAC,GACZ,CAAC,GACDF,IAAI,CAACE,QAAQ,GAAG;QAC9B,CAAC,GACDF,IACV;MACJ,CAAC;IACL,CAAC,CAAC;EACN,CAAC;EACDI,QAAQ,EAAGC,UAAmB,IAAK;IAC/Bb,GAAG,CAAEM,KAAK,IAAK;MACX,MAAMQ,YAAY,GAAGR,KAAK,CAACJ,SAAS,CAACa,IAAI,CACpCP,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKI,UAAU,CAACJ,EACrC,CAAC;MAED,IAAIK,YAAY,EAAE;QACd,OAAO;UACHZ,SAAS,EAAEI,KAAK,CAACJ,SAAS,CAACK,GAAG,CAAEC,IAAI,IAChCA,IAAI,CAACC,EAAE,KAAKI,UAAU,CAACJ,EAAE,GACnB;YAAE,GAAGD,IAAI;YAAEE,QAAQ,EAAEF,IAAI,CAACE,QAAQ,GAAG;UAAE,CAAC,GACxCF,IACV;QACJ,CAAC;MACL,CAAC,MAAM;QACH,OAAO;UACHN,SAAS,EAAE,CACP,GAAGI,KAAK,CAACJ,SAAS,EAClB;YAAE,GAAGW,UAAU;YAAEH,QAAQ,EAAE;UAAE,CAAC;QAEtC,CAAC;MACL;IACJ,CAAC,CAAC;EACN,CAAC;EACDM,kBAAkB,EAAGX,SAAS,IAAK;IAC/BL,GAAG,CAAEM,KAAK,IAAK;MACX,OAAO;QACHJ,SAAS,EAAEI,KAAK,CAACJ,SAAS,CAACe,MAAM,CAC5BT,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKJ,SAC1B;MACJ,CAAC;IACL,CAAC,CAAC;EACN,CAAC;EACDa,cAAc,EAAEA,CAAA,KAAM;IAClBlB,GAAG,CAAEM,KAAK,IAAK;MACX,MAAML,KAAK,GAAGK,KAAK,CAACJ,SAAS,CAACiB,MAAM,CAChC,CAACC,GAAG,EAAEZ,IAAI,KAAKY,GAAG,GAAGZ,IAAI,CAACa,KAAK,GAAGb,IAAI,CAACE,QAAQ,EAC/C,CACJ,CAAC;MACD,OAAO;QAAET,KAAK,EAAEqB,UAAU,CAACrB,KAAK,CAACsB,OAAO,CAAC,CAAC,CAAC;MAAE,CAAC;IAClD,CAAC,CAAC;EACN;AACJ,CAAC,CACL,CAAC;AAED,eAAexB,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}