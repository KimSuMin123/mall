{"ast":null,"code":"var _jsxFileName = \"/Users/sumin/Documents/\\u1109\\u116E\\u1106\\u1175\\u11AB \\u110F\\u1169\\u1103\\u1175\\u11BC/\\u1100\\u116E\\u1105\\u1173\\u11B7 \\u1112\\u1166\\u11AF\\u1111\\u1165/new/goorm-shopping-mall/src/pages/DetailPage/DetailPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport styles from \"./detailpage.module.css\";\nimport Loading from \"pages/Loading/Loading\";\nimport useProductStore from \"apps/productStore\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport AlreadyAddButton from \"components/AddButton/AlreadyAddButton\";\nimport useCartStore from \"apps/cartStore\";\nimport Skeleton from \"react-loading-skeleton\";\nimport \"react-loading-skeleton/dist/skeleton.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DetailPage = () => {\n  _s();\n  const [loading, setLoading] = useState(true);\n  const {\n    detailProduct,\n    setSelectedProduct\n  } = useProductStore();\n  const navigate = useNavigate();\n  const [picked, setPicked] = useState(true);\n  const [loadedImage, setLoadedImage] = useState(false);\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const queryValue = searchParams.get(\"id\");\n  const {\n    setCarts,\n    calculateTotal\n  } = useCartStore();\n  const addToCart = product => {\n    setCarts(product);\n    calculateTotal();\n  };\n  const loadData = async id => {\n    setLoading(true);\n    try {\n      await setSelectedProduct(id);\n    } catch (error) {\n      console.error(\"Error loading data:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleImageLoad = () => {\n    setLoadedImage(true);\n  };\n  useEffect(() => {\n    loadData(queryValue);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: styles.section,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.products_section,\n      children: loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.detail_product_container,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.detail_product_picture,\n            children: [!loadedImage && /*#__PURE__*/_jsxDEV(Skeleton, {\n              width: 350,\n              height: 550\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: detailProduct.image,\n              alt: detailProduct.title,\n              className: styles.main_img,\n              onLoad: handleImageLoad,\n              style: {\n                display: loadedImage ? \"block\" : \"none\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.detail_product_text_container,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.detail_product_category,\n              children: detailProduct.category\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.detail_product_title,\n              children: detailProduct.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.detail_product_price,\n              children: [\"$\", detailProduct.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.detail_product_description,\n              children: detailProduct.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.detail_product_buttons,\n              children: [picked ? /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `${styles.add_to_cart}`,\n                onClick: () => {\n                  addToCart(detailProduct);\n                  setPicked(false);\n                },\n                children: \"\\uC7A5\\uBC14\\uAD6C\\uB2C8\\uC5D0 \\uB2F4\\uAE30\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 41\n              }, this) : /*#__PURE__*/_jsxDEV(AlreadyAddButton, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `${styles.add_to_cart}`,\n                onClick: e => {\n                  e.preventDefault();\n                  navigate(\"/cart\");\n                },\n                children: \"\\uC7A5\\uBC14\\uAD6C\\uB2C8\\uB85C \\uC774\\uB3D9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n};\n_s(DetailPage, \"C28DXigApKkrWhpX7HQ4nO/xon8=\", false, function () {\n  return [useProductStore, useNavigate, useLocation, useCartStore];\n});\n_c = DetailPage;\nexport default DetailPage;\nvar _c;\n$RefreshReg$(_c, \"DetailPage\");","map":{"version":3,"names":["React","useEffect","useState","styles","Loading","useProductStore","useLocation","useNavigate","AlreadyAddButton","useCartStore","Skeleton","jsxDEV","_jsxDEV","DetailPage","_s","loading","setLoading","detailProduct","setSelectedProduct","navigate","picked","setPicked","loadedImage","setLoadedImage","location","searchParams","URLSearchParams","search","queryValue","get","setCarts","calculateTotal","addToCart","product","loadData","id","error","console","handleImageLoad","className","section","children","products_section","fileName","_jsxFileName","lineNumber","columnNumber","detail_product_container","detail_product_picture","width","height","src","image","alt","title","main_img","onLoad","style","display","detail_product_text_container","detail_product_category","category","detail_product_title","detail_product_price","price","detail_product_description","description","detail_product_buttons","add_to_cart","onClick","e","preventDefault","_c","$RefreshReg$"],"sources":["/Users/sumin/Documents/수민 코딩/구름 헬퍼/new/goorm-shopping-mall/src/pages/DetailPage/DetailPage.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport styles from \"./detailpage.module.css\"\nimport Loading from \"pages/Loading/Loading\"\nimport useProductStore from \"apps/productStore\"\nimport { useLocation, useNavigate } from \"react-router-dom\"\nimport AlreadyAddButton from \"components/AddButton/AlreadyAddButton\"\nimport Product from \"models/product\"\nimport useCartStore from \"apps/cartStore\"\n\nimport Skeleton from \"react-loading-skeleton\"\nimport \"react-loading-skeleton/dist/skeleton.css\"\n\nconst DetailPage = () => {\n    const [loading, setLoading] = useState(true)\n    const { detailProduct, setSelectedProduct } = useProductStore()\n    const navigate = useNavigate()\n\n    const [picked, setPicked] = useState(true)\n    const [loadedImage, setLoadedImage] = useState(false)\n\n    const location = useLocation()\n    const searchParams = new URLSearchParams(location.search)\n    const queryValue = searchParams.get(\"id\")\n\n    const { setCarts, calculateTotal } = useCartStore()\n\n    const addToCart = (product: Product) => {\n        setCarts(product)\n        calculateTotal()\n    }\n\n    const loadData = async (id: string) => {\n        setLoading(true)\n        try {\n            await setSelectedProduct(id)\n        } catch (error) {\n            console.error(\"Error loading data:\", error)\n        } finally {\n            setLoading(false)\n        }\n    }\n\n    const handleImageLoad = () => {\n        setLoadedImage(true)\n    }\n\n    useEffect(() => {\n        loadData(queryValue!)\n    }, [])\n\n    return (\n        <section className={styles.section}>\n            <div className={styles.products_section}>\n                {loading ? (\n                    <Loading />\n                ) : (\n                    <div>\n                        <div className={styles.detail_product_container}>\n                            <div className={styles.detail_product_picture}>\n                                {!loadedImage && (\n                                    <Skeleton width={350} height={550} />\n                                )}\n                                <img\n                                    src={detailProduct.image}\n                                    alt={detailProduct.title}\n                                    className={styles.main_img}\n                                    onLoad={handleImageLoad}\n                                    style={{\n                                        display: loadedImage ? \"block\" : \"none\",\n                                    }}\n                                />\n                            </div>\n                            <div\n                                className={styles.detail_product_text_container}\n                            >\n                                <div className={styles.detail_product_category}>\n                                    {detailProduct.category}\n                                </div>\n                                <div className={styles.detail_product_title}>\n                                    {detailProduct.title}\n                                </div>\n                                <div className={styles.detail_product_price}>\n                                    ${detailProduct.price}\n                                </div>\n                                <div\n                                    className={\n                                        styles.detail_product_description\n                                    }\n                                >\n                                    {detailProduct.description}\n                                </div>\n                                <div className={styles.detail_product_buttons}>\n                                    {picked ? (\n                                        <button\n                                            className={`${styles.add_to_cart}`}\n                                            onClick={() => {\n                                                addToCart(detailProduct)\n                                                setPicked(false)\n                                            }}\n                                        >\n                                            장바구니에 담기\n                                        </button>\n                                    ) : (\n                                        <AlreadyAddButton />\n                                    )}\n\n                                    <button\n                                        className={`${styles.add_to_cart}`}\n                                        onClick={(e) => {\n                                            e.preventDefault()\n                                            navigate(\"/cart\")\n                                        }}\n                                    >\n                                        장바구니로 이동\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                )}\n            </div>\n        </section>\n    )\n}\n\nexport default DetailPage\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}